<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script src="./practice1.js"></script>
</body>
</html>












class Node {
    constructor(val) {
      this.val = val;
      this.prev = null;
      this.next = null;
    }
  }
  
  class DoublyLinkedList {
    constructor() {
      this.head = null;
      this.tail = null;
      this.size = null;
    }
  
    addToStart(val) {
      const node = new Node(val);
      if (!this.head) {
        this.head = node;
        this.tail = node;
      } else {
        this.head.prev = node;
        node.next = this.head;
        this.head = node;
        this.size++;
        return;
      }
    }
    addToLast(val) {
      const node = new Node(val);
      if (!this.head) {
        this.head = node;
        this.tail = node;
      } else {
        this.tail.next = node;
        node.prev = this.tail;
        this.tail = node;
      }
    }
  
    insert(val, index) {
      const node = new Node(val);
      if (index < 0 || index > this.size) {
        console.log(false);
      }
  
      if (index === 0) {
        this.head.prev = node;
        node.next = this.head;
        this.head = node;
      }
  
      let curr = this.head;
      for (let i = 0; i < index; i++) {
        curr = curr.next;
      }
      node.next = curr.next;
      node.prev = curr;
      node.next.prev = node;
      curr.next = node;
      return;
    }
  
    remove(index) {
      if (index < 0 || index > this.size) {
        console.log(false);
        return;
      }
      if (index === 0) {
        this.head = this.head.next;
        return;
      }
      let curr = this.head;
      for (let i = 0; i < index; i++) {
        curr = curr.next;
      }
      curr.next.prev = curr.prev;
      curr.prev.next = curr.next;
      curr = null;
    }
  
    removeValue(val) {
      if (this.head.val === val) {
        this.head = this.head.next;
        if (this.head) {
          this.prev = null;
        } else {
          this.tail = null;
        }
      }
      let prev = null;
      let curr = this.head;
      while (curr && curr.val !== val) {
        prev = curr;
        curr = curr.next;
      }
  
      if (curr) {
        prev.next = curr.next;
        if (curr === this.tail) {
          this.tail = prev;
        } else {
          curr.next.prev = prev;
        }
      }
      return;
    }
    //5
    //1,2,3,4,5,6,7
  
    reverse() {
      let prev;
      let curr = this.head;
      while (curr) {
        let next = curr.next;
        curr.next = prev;
        prev = curr;
        curr = next;  
      }
      this.head = prev;
    }
  
    print() {
      if (this.size > 0) {
        let curr = this.head;
        let listvalues = "";
        while (curr) {
          listvalues += `${curr.val} `;
          curr = curr.next;
        }
        console.log(listvalues);
      }
    }
  }
  
  const list = new DoublyLinkedList();
  
  list.addToStart(1);
  list.addToStart(2);
  list.addToStart(3);
  list.addToStart(4);
  // list.print();
  list.addToLast(0);
  // list.print();
  list.insert(10, 2);
  // list.print();
  // list.remove(8);
  list.print();
  // console.log(list.removeValue(10));
  list.removeValue(4)
  list.print();
  // list.reverse();
  // list.print();
  

